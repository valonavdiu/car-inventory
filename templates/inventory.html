
{% extends "base.html" %}
{% block content %}
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-2xl font-semibold">Inventory</h2>
    <div id="result-count" class="text-slate-500"></div>
  </div>

  <div class="mb-4 flex items-center gap-2">
    <a href="?tab=rent" class="px-4 py-2 rounded-xl border {{ 'bg-accent text-white' if active_tab=='rent' else '' }}">Rent</a>
    <a href="?tab=sale" class="px-4 py-2 rounded-xl border {{ 'bg-accent text-white' if active_tab=='sale' else '' }}">For Sale</a>
  </div>

  <form id="filters" class="grid md:grid-cols-4 gap-2 mb-4">
    <input id="q" class="px-3 py-2 rounded-xl border" placeholder="Search make, model, year, fuel, color">
    <select id="type" class="px-3 py-2 rounded-xl border">
      <option value="">All types</option>
      <option value="rent" {{ 'selected' if active_tab=='rent' }}>Rent</option>
      <option value="sale" {{ 'selected' if active_tab=='sale' }}>Sale</option>
    </select>
    <select id="sort" class="px-3 py-2 rounded-xl border">
      <option value="">Sort</option>
      <option value="price-asc">Price ↑</option>
      <option value="price-desc">Price ↓</option>
      <option value="year-desc">Year ↓</option>
      <option value="year-asc">Year ↑</option>
    </select>
    <button class="px-4 py-2 rounded-xl bg-slate-900 text-white" type="submit">Apply</button>
  </form>

  <div id="cars-grid" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='inventory.js') }}"></script>
<script>document.addEventListener('DOMContentLoaded',()=>{const sel=document.getElementById('type'); if('{{active_tab}}'){sel.value='{{active_tab}}';}})</script>
{% endblock %}
